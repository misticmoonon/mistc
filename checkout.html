<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>Checkout</title>
  <style>
        body { padding: 20px; }
    .checkout-container { max-width: 600px; margin: auto; }
    .checkout-container h2 { margin-bottom: 20px; }
    .checkout-container ul { list-style: none; padding: 0; margin-bottom: 20px; }
    .checkout-container li { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #ccc; }
    .checkout-container input, .checkout-container button { margin-bottom: 10px; }
    .button-finalizar { background-color: rgb(66, 0, 128); color: rgb(212, 195, 195); width: 100%; }

  </style>
</head>
<body>

<div class="checkout-container">
  <p>Resumo da Compra</h2>
  <ul id="resumoCarrinho"></ul>
  <p>Total: R$ <span id="totalCompra">0.00</span></p>

  <h3>Informações do Cliente</h3>
  <input type="text" id="nomeCliente" placeholder="Nome completo" class="form-control">
  <input type="email" id="emailCliente" placeholder="E-mail" class="form-control">
  <input type="text" id="enderecoCliente" placeholder="Endereço de entrega" class="form-control">
  
  <h3>Pagamento</h3>
  <input type="text" id="cartaoCliente" placeholder="Número do cartão" class="form-control">
  <input type="text" id="validadeCartao" placeholder="Validade" class="form-control">
  <input type="text" id="cvvCartao" placeholder="CVV" class="form-control">

  <button onclick="concluirCompra()" class="button0 button-finalizar">Concluir Compra</button>
</div>

<script>
  // Recuperar carrinho do LocalStorage
  let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
  let total = localStorage.getItem('total') || "0.00";

  const resumoCarrinho = document.getElementById('resumoCarrinho');
  const totalCompra = document.getElementById('totalCompra');
  totalCompra.textContent = total;

carrinho.forEach(item => {
    const li = document.createElement('li');
    li.textContent = `${item.nome} - R$ ${item.preco.toFixed(2)} x ${item.quantidade}`;
    resumoCarrinho.appendChild(li);
});


  function concluirCompra() {
      const nome = document.getElementById('nomeCliente').value;
      const email = document.getElementById('emailCliente').value;
      const endereco = document.getElementById('enderecoCliente').value;

      if(!nome || !email || !endereco) {
          alert('Por favor, preencha todos os dados!');
          return;
      }

      alert('Compra concluída com sucesso!\nObrigado pela preferência.');
      
      // Limpar LocalStorage e redirecionar para página inicial
      localStorage.removeItem('carrinho');
      localStorage.removeItem('total');
      window.location.href = "index.html";
  }
</script>

</body>
</html>
